<!DOCTYPE html>
<html>
	<head>
		<title>goMarkableStream</title>
		<link rel="icon" type="image/x-icon" href="favicon.ico">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="stylesheet" href="style.css">
        <script>
            const screenWidth = {{ .ScreenWidth }};
            const screenHeight = {{ .ScreenHeight }};
			const MaxXValue = {{ .MaxXValue }};
			const MaxYValue = {{ .MaxYValue }};
			const DeviceModel = {{ .DeviceModel }};
			const UseBGRA = {{ .UseBGRA }};
			const TextureFlipped = {{ .TextureFlipped }};
        </script>
	</head>
	<body>
		<div id="menuContainer">
			<div class="sidebar" id="sidebar">
				<div class="sidebar-header">
					<img src="favicon.png" alt="Logo" class="sidebar-logo">
					<h3>reMarkable</h3>
				</div>
				<ul class="menu">
					<li>
						<button id="rotate" class="apple-button">
							<svg class="button-icon" viewBox="0 0 24 24" width="20" height="20">
								<path fill="currentColor" d="M7.11,8.53L5.7,7.11C4.8,8.27 4.24,9.61 4.07,11h2.02c0.14-0.87 0.49-1.72 1.02-2.47zM6.09,13H4.07c0.17,1.39 0.72,2.73 1.62,3.89l1.41-1.42c-0.52-0.75-0.87-1.59-1.01-2.47zm1.01,5.32c1.16,0.9 2.51,1.44 3.9,1.61V17.9c-0.87-0.15-1.71-0.49-2.46-1.03L7.1,18.32zM13,4.07V1L8.45,5.55L13,10V6.09c2.84,0.48 5,2.94 5,5.91s-2.16,5.43-5,5.91v2.02c3.95-0.49 7-3.85 7-7.93S16.95,4.56 13,4.07z"/>
							</svg>
							<span>Rotate</span>
							<div class="button-tooltip">Toggle orientation</div>
						</button>
					</li>
					<li id="layersMenuItem" style="display: none;">
						<button id="switchOrderButton" class="apple-button">
							<svg class="button-icon" viewBox="0 0 24 24" width="20" height="20">
								<path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/>
							</svg>
							<span>Layers</span>
							<div class="button-tooltip">Toggle drawing layers</div>
						</button>
					</li>
					<li>
						<button id="laserToggle" class="apple-button toggled">
							<svg class="button-icon" viewBox="0 0 24 24" width="20" height="20">
								<path fill="currentColor" d="M9,3L7.17,5H4A2,2 0 0,0 2,7V19A2,2 0 0,0 4,21H20A2,2 0 0,0 22,19V7A2,2 0 0,0 20,5H16.83L15,3M12,18A5,5 0 0,1 7,13A5,5 0 0,1 12,8A5,5 0 0,1 17,13A5,5 0 0,1 12,18M12,10A3,3 0 0,0 9,13A3,3 0 0,0 12,16A3,3 0 0,0 15,13A3,3 0 0,0 12,10Z"/>
							</svg>
							<span>Laser</span>
							<div class="button-tooltip">Toggle laser pointer</div>
						</button>
					</li>
					<li id="funnelMenuItem" style="display: none;">
						<button id="funnelButton" class="apple-button">
							<svg class="button-icon" viewBox="0 0 24 24" width="20" height="20">
								<path fill="currentColor" d="M16.36,14C16.44,13.34 16.5,12.68 16.5,12C16.5,11.32 16.44,10.66 16.36,10H19.74C19.9,10.64 20,11.31 20,12C20,12.69 19.9,13.36 19.74,14M14.59,19.56C15.19,18.45 15.65,17.25 15.97,16H18.92C17.96,17.65 16.43,18.93 14.59,19.56M14.34,14H9.66C9.56,13.34 9.5,12.68 9.5,12C9.5,11.32 9.56,10.65 9.66,10H14.34C14.43,10.65 14.5,11.32 14.5,12C14.5,12.68 14.43,13.34 14.34,14M12,19.96C11.17,18.76 10.5,17.43 10.09,16H13.91C13.5,17.43 12.83,18.76 12,19.96M8,8H5.08C6.03,6.34 7.57,5.06 9.4,4.44C8.8,5.55 8.35,6.75 8,8M5.08,16H8C8.35,17.25 8.8,18.45 9.4,19.56C7.57,18.93 6.03,17.65 5.08,16M4.26,14C4.1,13.36 4,12.69 4,12C4,11.31 4.1,10.64 4.26,10H7.64C7.56,10.66 7.5,11.32 7.5,12C7.5,12.68 7.56,13.34 7.64,14M12,4.03C12.83,5.23 13.5,6.57 13.91,8H10.09C10.5,6.57 11.17,5.23 12,4.03M18.92,8H15.97C15.65,6.75 15.19,5.55 14.59,4.44C16.43,5.07 17.96,6.34 18.92,8M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"/>
							</svg>
							<span>Funnel</span>
							<div class="button-tooltip">Toggle public access</div>
						</button>
					</li>
				</ul>
				<div class="sidebar-footer">
					<div id="qrCodeContainer" style="display: none;">
						<!-- QR code SVG will be inserted here -->
					</div>
					<small id="footerText">goMarkableStream</small>
				</div>
			</div>
		</div>
		<div id="container">
			<canvas id="canvas"></canvas>
			<div id="message"></div>
			<iframe id="content" allow="camera *;" allowfullscreen="true" frameborder="0" width="100%" height="100%" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true"></iframe>
		</div>

		<script src="qrcode.js"></script>
		<script src="main.js"></script>
		<script src="glCanvas.js"></script>
		<script src="utilities.js"></script>
		<script src="recording.js"></script>
		<script src="canvasHandling.js"></script>
		<script src="uiInteractions.js"></script>
		<script src="workersHandling.js"></script>
	</body>
</html>